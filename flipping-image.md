---
title: 图像翻转和裁剪——flipping image and cropping
date: 2017-01-12 10:43:57
tags: 图像翻转、flipping、裁剪
---

#### 图像翻转的一些伪代码

图像翻转就有一些简单了，我们说图像是由很多的像素点组成的，所以如果我们翻转这张图片，只需要找到一个“像素换位的公式”即可，假如说我们想水平翻转图像，那就是左边和右边的像素点互换，这个公式就是：

```bash
//下面地代码是一些伪代码
//表示新的像素点的x坐标就是原图像的长度减去原x坐标，y坐标不变
Xnew = (image width) - Xorigin
Ynew = Yorigin
```

类似的还有垂直翻转，这个也很简单，你同样可以很方便地计算出新的像素的坐标转换公式。还有一种是两者的混合翻转，其实就是两个转换的结合，不难，所以我们来看一下在opencv中提供了怎样的API给我们吧！

#### opencv里面的图像翻转

在opencv中我们可以直接调用flip函数来将图像翻转，它的参数如下：

+ src 原图像

+ flipCode 表示我们将怎样来翻转图像，1表示水平翻转；0表示垂直翻转；-1表示两者结合

来看一下我们的示例代码：

```bash
#
# 水平翻转图像
#
flippedImage1 = cv2.flip(img, 1)

#
# 垂直翻转图像
#
flippedImage2 = cv2.flip(img, 0)

#
# 混合翻转图像
#
flippedImage3 = cv2.flip(img, -1)
```

很简单是不是？另外我个人认为我在使用opencv来处理我的图像的时候很少使用到翻转这一个功能，所以我们就不会封装这个函数了，如果你喜欢的话，我很鼓励你自己写一些代码，相信对你来说不是很难的东西。

#### 图像裁剪

其实我们在这一部分将不会提到opencv的函数，因为压根就没有！！！裁剪就是我们想要获取图像的某一部分，将其提取出来，就是这么一个简单的过程，我们使用numpy来处理这个过程。我们前面提到过numpy是最适合处理数组的Python包，我们的图像是一个个的像素点，就类似于数组的元素了，我们来看一下怎样裁剪一张图片的某个部分：

```bash
#
# 我们将会裁剪图像的(10,10)到(100,90)的矩形区域，因为我们的图像是三个通道的，所以我们的img数组是三维的
#
croppedImage = img[10:90, 10:100, :]


cv2.imshow('cropped image', croppedImage)
```

我个人认为这里需要解释的那些图像的坐标表示问题。首先我们说了我们将会裁剪图像的(10,10)到(100,90)的矩形区域，这里的坐标表示的方式是(x,y)，然后当我们开始使用numpy来裁剪的时候恰好反转了过来——img[10:90, 10:100, :]，`10:90`表示我们从第10行开始取值，直到第90行（不包括第90行），然后才是`10:100`，这才到了x的裁剪，所以我希望大家也能注意到这一点，避免以后被opencv给坑了。最后是我们直接使用了`:`来取得通道的数，表示我们将会使用所有的通道的值，也就是彩色的值。

#### 总结

这没什么好总结的，好吧！

下一节我么将会学习图像的位操作——bitwise operation